<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Map Selector</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
    }
    select {
      margin-bottom: 20px;
      padding: 10px;
      font-size: 16px;
    }
    iframe {
      border: none;
    }
  </style>
</head>
<body>
  <h1>Interactive Map Selector</h1>
  <p>Choose an indicator category and then select a specific indicator to explore the interactive map.</p>

  <!-- Dropdown for category (Policy or Practice) -->
  <select id="categorySelector" onchange="updateIndicatorDropdown()" style="margin-bottom: 20px;">
    <option value="" disabled selected>Select Category</option>
    <option value="policy">Policy</option>
    <option value="practice">Practice</option>
  </select>

  <!-- Dropdown for specific indicators -->
  <select id="indicatorSelector" onchange="switchMap()" style="margin-bottom: 20px;" disabled>
    <option value="" disabled selected>Select Indicator</option>
  </select>

  <!-- The iframe container -->
  <iframe id="mapFrame" 
          src="" 
          width="80%" 
          height="900px" 
          scrolling="no" 
          style="border:none;">
  </iframe>

  <script>
    // Predefined mapping for Policy and Practice indicators
    const indicators = {
      policy: {
        "Policy Curriculum Aim": "https://adrianaarellano.github.io/subindic_policy_cur_aim/",
        "Policy Curriculum Common": "https://adrianaarellano.github.io/subindic_policy_cur_diff_pro/",
        "Policy Curriculum Formal": "https://adrianaarellano.github.io/subindic_policy_cur_formal/",
        "Policy Curriculum Topic": "https://adrianaarellano.github.io/subindic_policy_cur_topic/",
        "Policy Pedagogy Guidelines": "https://adrianaarellano.github.io/subindic_policy_ped/",
        "Policy Pedagogy Objective": "https://adrianaarellano.github.io/subindic_policy_ped_objective/",
        "Policy Ethos Guidelines": "https://adrianaarellano.github.io/subindic_policy_ethos/",
        "Track Age Selection": "https://adrianaarellano.github.io/subindic_track_age_selection/",
        "Policy Training In-Service": "https://adrianaarellano.github.io/subindic_policy_train_inservice/",
        "Policy Training Mandatory": "https://adrianaarellano.github.io/subindic_train_policy_madatory/",
        "Policy Autonomy Assessment": "https://adrianaarellano.github.io/subindic_policy_auto_assessment/",
        "Policy Autonomy Curricula": "https://adrianaarellano.github.io/subindic_policy_auto_nc_epsm/",
        "Policy Compulsory Years": "https://adrianaarellano.github.io/subindic_policy_compuls_years/"
      },
      practice: {
        "Practice Curriculum Outside Activities": "https://adrianaarellano.github.io/subindic_practice_cur_outside/",
        "Practice Pedagogy Student Vote": "https://adrianaarellano.github.io/subindic_practice_ped_vote/",
        "Practice Pedagogy Active Participation": "https://adrianaarellano.github.io/subindic_practice_ped_active_par/",
        "Practice Pedagogy Open Discussion": "https://adrianaarellano.github.io/subindic_practice_ped_open_dis/",
        "Practice Pedagogy Opinion on Participation": "https://adrianaarellano.github.io/subindic_practice_ped_opinion_par/",
        "Practice Pedagogy Open Classroom": "https://adrianaarellano.github.io/subindic_practice_ped_open_class/",
        "Practice Ethos Teacher Participation": "https://adrianaarellano.github.io/subindic_practice_teacher/",
        "Practice Ethos Student Involvement": "https://adrianaarellano.github.io/subindic_practice_ethos_school/",
        "Practice Autonomy with CE activities": "https://adrianaarellano.github.io/subindic_practice_auto_school/",
        "Practice Autonomy Official Curricula": "https://adrianaarellano.github.io/subindic_practice_auto_teacher/",
        "Practice Track Grouping": "https://adrianaarellano.github.io/subindic_practice_track_group/"
      }
    };

    // Update the Indicator dropdown based on selected category
    function updateIndicatorDropdown() {
      const category = document.getElementById("categorySelector").value;
      const indicatorSelector = document.getElementById("indicatorSelector");

      // Clear the previous options
      indicatorSelector.innerHTML = '<option value="" disabled selected>Select Indicator</option>';

      if (category) {
        const options = indicators[category];
        for (const [label, url] of Object.entries(options)) {
          const option = document.createElement("option");
          option.value = url;
          option.textContent = label;
          indicatorSelector.appendChild(option);
        }
        indicatorSelector.disabled = false;
      } else {
        indicatorSelector.disabled = true;
      }
    }

    // Switch the iframe source based on selected indicator
    function switchMap() {
      const mapFrame = document.getElementById("mapFrame");
      const selectedURL = document.getElementById("indicatorSelector").value;

      // Set the iframe source to the selected URL
      mapFrame.src = selectedURL;
    }
  </script>
</body>
</html>
